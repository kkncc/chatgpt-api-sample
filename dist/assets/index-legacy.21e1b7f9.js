System.register(["./index-legacy.9f5a0b24.js"],(function(e,t){"use strict";var a,r,n,o,s,d,i,l,c,b,u,g,p,m=document.createElement("style");return m.textContent='.message[data-v-466fb501]{float:left;margin-bottom:.5rem;box-sizing:border-box;display:block;width:auto;height:auto;border-width:2px;--un-border-opacity:1;border-color:rgba(229,231,235,var(--un-border-opacity));border-radius:.5rem;border-style:solid;padding:.5rem;line-height:1.5em}.clearfix[data-v-466fb501]{content:" ";display:table;clear:both}.button[data-v-466fb501]{margin-left:.5rem;width:5em;border-width:1px;--un-border-opacity:1;border-color:rgba(209,213,219,var(--un-border-opacity));border-radius:.25rem;--un-bg-opacity:1;background-color:rgba(96,165,250,var(--un-bg-opacity));background-image:none;font-weight:700;--un-text-opacity:1;color:rgba(255,255,255,var(--un-text-opacity));outline:2px solid transparent;outline-offset:2px}\n',document.head.appendChild(m),{setters:[e=>{a=e.d,r=e.r,n=e.c,o=e.a,s=e.F,d=e.b,i=e.w,l=e.v,c=e.o,b=e.t,u=e.p,g=e.e,p=e._}],execute:function(){var t=(e=>(e[e.Ok=200]="Ok",e[e.BadRequest=400]="BadRequest",e[e.InteralServerError=500]="InteralServerError",e))(t||{});const m=e=>(u("data-v-466fb501"),e=e(),g(),e),h={class:"text-dark-300 flex flex-col w-100vw h-100vh p-4 box-border"},f=m((()=>o("h1",{class:"text-center text-lg m-0"}," ChatGPT Playground ",-1))),y={class:"flex-1 mt-4 w-full m-auto p-4 b-gray-300 b-solid b-2 rounded-lg box-border"},v={key:0,class:"message"},x={key:1,class:"message !float-right"},w=m((()=>o("div",{class:"clearfix"},null,-1))),k={class:"pb-4 mt-4"},C={class:"flex w-full h-4em"},B=a({__name:"index",setup(e){const a=r({messages:[{sentBy:"chat-gpt",content:"以下对话由 AI 自动生成，请输入任意内容。"}],editContent:"",editing:!1}),u=async e=>{if(null==e||e.preventDefault(),!a.editing)if(a.editContent){a.messages.push({sentBy:"human",content:a.editContent}),a.editContent="";try{const e=await window.fetch("/api/chat",{body:JSON.stringify({prompt:a.messages[a.messages.length-1].content}),headers:{"Content-Type":"application/json"},method:"POST"});let r;switch(e.status){case t.Ok:e.json().then((e=>{a.messages.push({sentBy:"chat-gpt",content:e.ai_text})}));break;case t.BadRequest:r="请求参数错误";break;case t.InteralServerError:r="服务器错误";break;default:r="未知错误"}if(void 0!==r)throw new Error(`${r}，请重新发送消息`)}catch(r){window.alert(r.message)}}else window.alert("请输入信息")},g=()=>{window.fetch("/api/reset")};return(e,t)=>(c(),n("div",h,[f,o("div",y,[(c(!0),n(s,null,d(a.messages,((e,t)=>(c(),n(s,{key:t},["chat-gpt"===e.sentBy?(c(),n("div",v,b(e.content),1)):(c(),n("div",x,b(e.content),1)),w],64)))),128))]),o("div",k,[o("div",C,[i(o("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.editContent=e),contenteditable:"",class:"flex-1 p-2 b-gray-300 b-solid b-2 rounded-lg"},null,512),[[l,a.editContent]]),o("button",{class:"button",onClick:u}," Submit "),o("button",{class:"button",onClick:g}," Clear ")])])]))}});e("default",p(B,[["__scopeId","data-v-466fb501"]]))}}}));
