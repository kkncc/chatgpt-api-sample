import{d as u,r as b,o,c as a,a as s,F as l,b as m,w as f,v as x,e as g,t as r,p as y,f as w,_ as v}from"./index-a8dab84a.js";const _=c=>(y("data-v-37d80cba"),c=c(),w(),c),C={class:"text-dark-300 flex flex-col w-100vw h-100vh p-4 box-border"},k=_(()=>s("h1",{class:"text-center text-lg m-0"}," ChatGPT Playground ",-1)),S={class:"flex-1 mt-4 w-full m-auto p-4 b-gray-300 b-solid b-2 rounded-lg box-border"},B={key:0,class:"message"},I={key:1,class:"message !float-right"},T=_(()=>s("div",{class:"clearfix"},null,-1)),D={class:"pb-4 mt-4"},K={class:"flex w-full h-4em"},P=["onKeydown"],j=u({__name:"index",setup(c){const t=b({messages:[{sentBy:"chat-gpt",content:"以下对话由 AI 自动生成，请输入任意内容。"}],editContent:""}),d=i=>{if(i.preventDefault(),!t.editContent){window.alert("请输入信息");return}t.messages.push({sentBy:"human",content:t.editContent}),window.fetch("/api/chat",{body:JSON.stringify({prompt:t.editContent}),headers:{"Content-Type":"application/json"},method:"POST"}).then(async n=>{console.log(n);const e=await n.json();e||window.alert("接口出错"),t.editContent="",t.messages.push({sentBy:"chat-gpt",content:e.ai_text})}).catch(()=>{t.messages.pop()})},p=()=>{window.fetch("/api/reset")};return(i,n)=>(o(),a("div",C,[k,s("div",S,[(o(!0),a(l,null,m(t.messages,(e,h)=>(o(),a(l,{key:h},[e.sentBy==="chat-gpt"?(o(),a("div",B,r(e.content),1)):(o(),a("div",I,r(e.content),1)),T],64))),128))]),s("div",D,[s("div",K,[f(s("textarea",{"onUpdate:modelValue":n[0]||(n[0]=e=>t.editContent=e),contenteditable:"",class:"flex-1 p-2 b-gray-300 b-solid b-2 rounded-lg",onKeydown:g(d,["enter"])},null,40,P),[[x,t.editContent]]),s("button",{class:"button",onClick:d}," Submit "),s("button",{class:"button",onClick:p}," Clear ")])])]))}});const N=v(j,[["__scopeId","data-v-37d80cba"]]);export{N as default};
