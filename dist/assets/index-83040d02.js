import{d as h,r as f,c as o,a as s,F as d,b as m,w as g,v as x,o as a,t as l,p as b,e as v,_ as y}from"./index-f5732688.js";const r=c=>(b("data-v-ec0c2f2f"),c=c(),v(),c),w={class:"text-dark-300 flex flex-col w-100vw h-100vh p-4 box-border"},C=r(()=>s("h1",{class:"text-center text-lg m-0"}," ChatGPT Playground ",-1)),k={class:"flex-1 mt-4 w-full m-auto p-4 b-gray-300 b-solid b-2 rounded-lg box-border"},S={key:0,class:"message"},B={key:1,class:"message !float-right"},I=r(()=>s("div",{class:"clearfix"},null,-1)),T={class:"pb-4 mt-4"},D={class:"flex w-full h-4em"},P=h({__name:"index",setup(c){const t=f({messages:[{sentBy:"chat-gpt",content:"以下对话由 AI 自动生成，请输入任意内容。"}],editContent:"",editing:!1}),p=i=>{if(i==null||i.preventDefault(),!t.editing){if(!t.editContent){window.alert("请输入信息");return}t.messages.push({sentBy:"human",content:t.editContent}),t.editContent="",window.fetch("/api/chat",{body:JSON.stringify({prompt:t.editContent}),headers:{"Content-Type":"application/json"},method:"POST"}).then(async n=>{console.log(n);const e=await n.json();e||window.alert("接口出错"),t.messages.push({sentBy:"chat-gpt",content:e.ai_text})}).catch(()=>{t.messages.pop()})}},_=()=>{window.fetch("/api/reset")};return(i,n)=>(a(),o("div",w,[C,s("div",k,[(a(!0),o(d,null,m(t.messages,(e,u)=>(a(),o(d,{key:u},[e.sentBy==="chat-gpt"?(a(),o("div",S,l(e.content),1)):(a(),o("div",B,l(e.content),1)),I],64))),128))]),s("div",T,[s("div",D,[g(s("textarea",{"onUpdate:modelValue":n[0]||(n[0]=e=>t.editContent=e),contenteditable:"",class:"flex-1 p-2 b-gray-300 b-solid b-2 rounded-lg"},null,512),[[x,t.editContent]]),s("button",{class:"button",onClick:p}," Submit "),s("button",{class:"button",onClick:_}," Clear ")])])]))}});const F=y(P,[["__scopeId","data-v-ec0c2f2f"]]);export{F as default};
